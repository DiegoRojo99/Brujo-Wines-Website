<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
	<!-- CSS -->
    <script src="testDB.js"></script>
	<meta name="author" content="Diego Rojo">
	<title>Brujo Wines Test DB</title>

</head>
<body>
    




<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
    import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/9.4.0/firebase-firestore.js';
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
    apiKey: "AIzaSyBqFvsjkgTdQuinpZhAWLKPcghZa4gk0eU",
    authDomain: "brujowines.firebaseapp.com",
    databaseURL: "https://brujowines-default-rtdb.firebaseio.com",
    projectId: "brujowines",
    storageBucket: "brujowines.appspot.com",
    messagingSenderId: "1017605599237",
    appId: "1:1017605599237:web:8e99097db35e91e44eac6c",
    measurementId: "G-W6882XRRHD"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Get a list of cities from your database
    async function getReservas(db) {
        const reservasCol = collection(db, 'reservas');
        const reservasSnapshot = await getDocs(reservasCol);
        reservasSnapshot.forEach((doc) => {
            // doc.data() is never undefined for query doc snapshots
            console.log(doc.id, " => ", doc.data());
        });
        const reservasList = reservasSnapshot.docs.map(doc => doc.data());
        return reservasList;
    }

    getReservas(db);
</script>
</body>
</html>